module freq_divider
(
	// Input Ports
	input clk_in,
	input arstn,
	input [3:0] freq_cntrl,
	
	// Output Ports
	output reg clk_out
);

	// Module Item(s)
	reg [9:0] count;
	reg [9:0] start_cnt;
	reg [9:0] end_cnt;
	
	// <edge_events> may contain any number of posedge or negedge events
	// separated by "or", e.g. always@(posedge clk or negedge reset)
	always@(posedge clk_in or negedge arstn)
	begin
		if(arstn == 1'b0) begin
			count <= start_cnt;
		end else if(count >= (end_cnt-1'b1))begin
			count <= start_cnt;
		end else begin
			count <= count + 1'b1; 	
		end
		
	end

	always@(*)
	begin
		case (freq_cntrl)
		0: begin 
			start_cnt = 10'b1111111111;
			end_cnt = start_cnt; 
			end
		1: begin
			start_cnt = 10'b1000000000-10/2;
			end_cnt = start_cnt + 10;
			end
		2: begin
			start_cnt = 10'b1000000000-100/2;
			end_cnt = start_cnt + 100;
			end
		3: begin
			start_cnt = 10'b1000000000-1000/2;
			end_cnt = start_cnt + 1000;
			end
		endcase 
	
		if(start_cnt == 10'b1111111111 && end_cnt == 10'b1111111111)begin
			clk_out = clk_in;
		end else begin
			clk_out = count[9];
		end
		
	end



endmodule


